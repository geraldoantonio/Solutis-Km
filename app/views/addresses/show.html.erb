<div class="m-b-4">
  <h1 ><i class="fas fa-map-marker-alt"></i>
    <%= " #{Address.model_name.human count: 1} " %>     
    <span class="badge badge-info " > <%= @address.id %></span>
  </h1>
</div>

<%= javascript_tag("
    function initMap() {   
      
     var myLatLng = new google.maps.LatLng(#{@address.geolocalization}) ;
        var map = new google.maps.Map(document.getElementById('map'), {
          zoom: 17,
          center: myLatLng
        });
        var marker = new google.maps.Marker({
          position: myLatLng,
          map: map,
          title: '#{@address.full_address}'
        });
    }
  ")
%>

<div class="row">
  <div class="col-md-8">
      <iframe 
        width="100%" 
        height="350" 
        frameborder="0" 
        scrolling="no" 
        marginheight="0" 
        marginwidth="0" 
        src="https://www.openstreetmap.org/export/embed.html?bbox=<%= @address.longitude %>%2C<%= @address.latitude %>%2C<%= @address.longitude %>%2C<%= @address.latitude %>&amp;layer=mapnik&amp;marker=<%= @address.latitude %>%2C<%= @address.longitude %>" style="border: none"></iframe>
  </div>
  
  <div class="col-md-4">
      <p>
        <strong><%= Address.human_attribute_name("geolocalization") %>: </strong>
        (<%= @address.geolocalization %>)
      </p>
      <p>
        <strong><%= Address.human_attribute_name("description") %>: </strong>
        <%= @address.description %>
      </p>

      <p>
        <strong><%= Address.human_attribute_name("address") %>: </strong>
        <%= @address.address %>
      </p>

      <p>
        <strong><%= Address.human_attribute_name("city") %>:</strong>
        <%= @address.city %> - <%= @address.uf %>
      </p>

      <p>
        <strong><%= Address.human_attribute_name("cep") %>: </strong>
        <%= @address.cep %>
      </p>
  </div>
</div>


<div class="form-group text-center">
  <% if can? :index, Address %>
    <%= link_to t('buttons.back'), addresses_path, class:"btn btn-success" %>
  <% end %>

  <% if can? :update, Address %>
    <%= link_to t('buttons.edit'), edit_address_path(@address), class:"btn btn-primary" %>
  <% end %>

  <% if can? :destroy, Address %>
    <%= link_to t('buttons.delete'), address_path(@address), method: :delete, data: { confirm: 'VocÃª tem certeza?' }, class: "btn btn-danger" %>
  <% end %>

</div>
