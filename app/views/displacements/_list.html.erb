<div id="filterrific_results">

<div  class="table-striped table-sm table-responsive table-hover mt-3">
  <table class="table">
    <caption> <%= page_entries_info displacements %></caption>
    <thead>
      <tr>
        <th scope="col">#</th>
        <th sope="col"><%= filterrific_sorting_link(@filterrific, :dateDay) %></th>        
        <th scope="col"><%= Displacement.human_attribute_name("osNumber") %></th>
        <th scope="col"><%= Displacement.human_attribute_name("osProject" )%></th>
        <th scope="col"><%= Displacement.human_attribute_name("startHour") %></th>
        <th scope="col"><%= Displacement.human_attribute_name("addressDst") %></th>
        <% if %w[leader].include? current_user.functionary.function %>
          <th scope="col"><%= Displacement.human_attribute_name("functionary_id") %></th>
        <% end %>
      </tr>
    </thead>
 
    <!-- Link line table  -->
    <%= javascript_tag '    
      jQuery(document).ready(function($) {
          $(".clickable-row").click(function() {
              window.location = $(this).data("href");
          });
      });
    '%>
    
    <tbody >
      <% displacements.each do |displacement| %>
      <tr class='clickable-row <%= "table-warning" if displacement.total_blank?  %>' data-href='<%=  displacement_path(displacement) %>' >
          <td scope="row"><%= displacement.id %> </td>
          <td><%= l displacement.dateDay %></td>
          <td><%= displacement.osNumber %></td>
          <td><%= displacement.osProject %></td>
          <td><%= displacement.startHour.strftime("%H:%M") unless displacement.startHour.nil?  %></td>
          <td><%= displacement.full_address_dst %></td>  
          <% if %w[leader].include? current_user.functionary.function %> 
            <td><%= displacement.functionary.name %></td>  
          <% end %>
        </tr>      
      <% end %>
    </tbody>
  </table>
  </div>
  <div class="row">
      <div class="text-center">
        <%= paginate displacements %>
      </div>
  </div>

</div>